"""
ثابت‌های غیررفتاری NDS برای طلا
فقط شامل نگاشت‌ها/کلیدهای بدون اعداد قابل تنظیم
"""

# ==================== تبدیل نام سشن‌ها ====================

SESSION_MAPPING = {
    'LONDON_OPEN': 'LONDON',
    'LONDON_CORE': 'LONDON',
    'NY_OPEN': 'NEW_YORK',
    'NY_CORE': 'NEW_YORK',
    'OVERLAP_PEAK': 'OVERLAP',
    'ASIA': 'ASIA',
    'DEAD_ZONE': 'OTHER'
}

# ==================== کلیدهای مجاز برای تنظیمات تحلیل ====================

ANALYSIS_CONFIG_KEYS = frozenset({
    'ATR_WINDOW',
    'ADX_WINDOW',
    'ADX_THRESHOLD_WEAK',
    'ADX_THRESHOLD_STRONG',
    'SWING_PERIOD',
    'ATR_SL_MULTIPLIER',
    'MIN_RVOL_SCALPING',
    'SWING_MIN_CONFIDENCE',
    'MIN_STRUCTURE_SCORE',
    'SCALPING_MAX_BARS_BACK',
    'SCALPING_MAX_DISTANCE_ATR',
    'SCALPING_MIN_FVG_SIZE_ATR',
    'DAILY_ATR_FACTOR',
    'ATR_MULTIPLIER',
    'RVOL_THRESHOLD',
    'FVG_VOLUME_CONFIRMATION',
    'MIN_ATR_DISTANCE_MULTIPLIER',
    'FVG_MIN_SIZE_MULTIPLIER',
    'OB_MIN_SIZE_MULTIPLIER',
    'MIN_SWEEP_PENETRATION_MULTIPLIER',
    'MIN_CANDLE_RANGE_MULTIPLIER',
    'SCALPING_MIN_CONFIDENCE',
    'MIN_CONFIDENCE',
    'FIXED_BUFFER',
    'RANGE_TOLERANCE',
    'ENTRY_FACTOR',
    'MIN_SESSION_WEIGHT',
    'DEBUG_ANALYZER',
    'ENABLE_LEGACY_SWING_ENTRY',
    'FLOW_STOP_BUFFER_ATR',
    'FLOW_RETEST_POLICY',
    'FLOW_TOUCH_PENETRATION_ATR',
    'FLOW_MAX_TOUCHES',
    'FLOW_TOUCH_PENALTY',
    'FLOW_TOUCH_EXIT_ATR',
    'FLOW_TOUCH_EXIT_PIPS',
    'FLOW_TOUCH_MIN_SEPARATION_BARS',
    'FLOW_TOUCH_EXIT_CONFIRM_BARS',
    'FLOW_TOUCH_COUNT_WINDOW_BARS',
    'FLOW_CONSUME_ON_FIRST_VALID_TOUCH',
    'FLOW_ZONE_KEY_PRECISION',
    'FLOW_NEAREST_ZONES',
    'BRK_MAX_DIST_ATR',
    'BRK_MAX_AGE_BARS',
    'IFVG_MAX_DIST_ATR',
    'IFVG_MAX_AGE_BARS',
    'MOMO_ADX_MIN',
    'MOMO_TIME_START',
    'MOMO_TIME_END',
    'MOMO_SESSION_ONLY',
    'MOMO_SESSION_ALLOWLIST',
    'MOMO_BUFFER_ATR_MULT',
    'MOMO_BUFFER_MIN_PIPS',
    'SCALP_ATR_SL_MULT',
    'SL_MIN_PIPS',
    'MIN_SL_PIPS',
    'SL_MAX_PIPS',
    'TP1_PIPS',
    'TP2_PIPS',
    'TP2_ENABLED',
    'SPREAD_MAX_PIPS',
    'SMC_MIN_CANDLES',
    'SMC_MAX_FVG_COUNT',
    'SMC_MAX_OB_COUNT',
    'SMC_MAX_FVG_AGE_BARS',
    'SMC_MAX_OB_AGE_BARS',
    'SMC_MIN_FVG_SIZE_ATR',
    'SMC_MIN_OB_SIZE_ATR',
    'SMC_OB_RELAX_MIN_SIZE_MULT',
    'SMC_OB_FALLBACK_TOP_K',
    'SMC_OB_FALLBACK_MAX_AGE_MULT',
    'SMC_OB_FALLBACK_MAX_DIST_MULT',
    'SMC_OB_FALLBACK_MIN_STRENGTH',
    'SMC_ZONE_MAX_DIST_ATR',
    'SMC_ZONE_TIGHTEN_MULT',
    'SMC_FVG_RANK_WEIGHTS',
    'SMC_OB_RANK_WEIGHTS',
    'SCALPING_THRESHOLD_MODE',
    'SIGNAL_THRESHOLD_MODE',
    'SIGNAL_BUY_PERCENTILE',
    'SIGNAL_SELL_PERCENTILE',
    'PERCENTILE_MIN_HISTORY',
    'SIGNAL_MIN_THRESHOLD_SPREAD',
    'SIGNAL_BUY_THRESHOLD_MIN',
    'SIGNAL_BUY_THRESHOLD_MAX',
    'SIGNAL_SELL_THRESHOLD_MIN',
    'SIGNAL_SELL_THRESHOLD_MAX',
    'SIGNAL_THRESHOLD_EMA_ALPHA',
    'FLOW_TOUCH_COOLDOWN_BARS',
    'FLOW_SETUP_WEIGHTS',
    'FLOW_SETUP_TOP_K',
    'FLOW_SETUP_DISPLACEMENT_ATR_TARGET',
    'STRICT_QUALITY_MODE',
    'FLOW_REQUIRES_BASE_SIGNAL',
    'COUNTERTREND_VERY_LOW_RVOL_MAX',
    'COUNTERTREND_LOW_RVOL_EXCEPTIONAL_STRUCTURE_SCORE',
    'COUNTERTREND_LOW_RVOL_CONF_PENALTY',
    'INTEGRITY_LOW_LIQUIDITY_PENALTY_MULT',
    'INTEGRITY_LOW_LIQUIDITY_RVOL_MAX',
    'INTEGRITY_LOW_LIQUIDITY_SESSION_ACTIVITY',
    'INTEGRITY_LOW_LIQUIDITY_FORCE_NONE',
    'INTEGRITY_EXCEPTIONAL_SETUP_SCORE',
    'REGIME_ADX_WEAK_MAX',
    'REGIME_TREND_WEIGHT_MULT_LOW_ADX',
    'REGIME_FVG_WEIGHT_MULT_LOW_RVOL',
    'REGIME_OB_WEIGHT_MULT_LOW_RVOL',
})
